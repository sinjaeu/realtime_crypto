# π—οΈ μ•”νΈν™”ν λ¨μ ν¬μ ν”λ«νΌ - μ „μ²΄ κµ¬μ΅° μ„¤κ³„

## π“ ν”„λ΅μ νΈ λ””λ ‰ν† λ¦¬ κµ¬μ΅°

```
realtime_data/
β”β”€β”€ π“ λ°μ΄ν„° νμ΄ν”„λΌμΈ (κΈ°μ΅΄ - μ™„λ£)
β”‚   β”β”€β”€ kafka_services/
β”‚   β”‚   β”β”€β”€ producers/crypo_producer.py
β”‚   β”‚   β”β”€β”€ consumers/crypo_consumers.py
β”‚   β”‚   β””β”€β”€ requirements_kafka.txt
β”‚   β”β”€β”€ dags/
β”‚   β”‚   β”β”€β”€ crypo_data.py
β”‚   β”‚   β””β”€β”€ crypto_batch_processing.py
β”‚   β””β”€β”€ models/
β”‚       β”β”€β”€ xgboost_best_model.pkl
β”‚       β””β”€β”€ label_encoder.pkl
β”‚
β”β”€β”€ π μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… (μ‹ κ· κµ¬ν„)
β”‚   β”β”€β”€ backend/                    # FastAPI λ°±μ—”λ“
β”‚   β”‚   β”β”€β”€ app/
β”‚   β”‚   β”‚   β”β”€β”€ __init__.py
β”‚   β”‚   β”‚   β”β”€β”€ main.py            # FastAPI μ•± μ—”νΈλ¦¬ν¬μΈνΈ
β”‚   β”‚   β”‚   β”β”€β”€ api/               # API λΌμ°ν„°
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ __init__.py
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ auth.py        # μ‚¬μ©μ μΈμ¦
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ market.py      # μ‹μ¥ λ°μ΄ν„° API
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ trading.py     # κ±°λ API
β”‚   β”‚   β”‚   β”‚   β””β”€β”€ ai.py          # AI μμΈ΅ API
β”‚   β”‚   β”‚   β”β”€β”€ core/              # ν•µμ‹¬ μ„¤μ •
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ __init__.py
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ config.py      # ν™κ²½ μ„¤μ •
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ security.py    # JWT, μ•”νΈν™”
β”‚   β”‚   β”‚   β”‚   β””β”€β”€ database.py    # DB μ—°κ²°
β”‚   β”‚   β”‚   β”β”€β”€ models/            # λ°μ΄ν„° λ¨λΈ
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ __init__.py
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ user.py        # μ‚¬μ©μ λ¨λΈ
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ portfolio.py   # ν¬νΈν΄λ¦¬μ¤ λ¨λΈ
β”‚   β”‚   β”‚   β”‚   β””β”€β”€ transaction.py # κ±°λ λ¨λΈ
β”‚   β”‚   β”‚   β”β”€β”€ services/          # λΉ„μ¦λ‹μ¤ λ΅μ§
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ __init__.py
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ redis_service.py    # Redis μ—°λ™
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ trading_service.py  # κ±°λ λ΅μ§
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ ai_service.py       # AI μμΈ΅ λ΅μ§
β”‚   β”‚   β”‚   β”‚   β””β”€β”€ websocket_service.py # μ‹¤μ‹κ°„ λ°μ΄ν„°
β”‚   β”‚   β”‚   β””β”€β”€ utils/             # μ ν‹Έλ¦¬ν‹°
β”‚   β”‚   β”‚       β”β”€β”€ __init__.py
β”‚   β”‚   β”‚       β””β”€β”€ helpers.py
β”‚   β”‚   β”β”€β”€ requirements_backend.txt
β”‚   β”‚   β””β”€β”€ Dockerfile
β”‚   β”‚
β”‚   β””β”€β”€ frontend/                   # React ν”„λ΅ νΈμ—”λ“
β”‚       β”β”€β”€ public/
β”‚       β”‚   β”β”€β”€ index.html
β”‚       β”‚   β””β”€β”€ favicon.ico
β”‚       β”β”€β”€ src/
β”‚       β”‚   β”β”€β”€ components/        # μ¬μ‚¬μ© μ»΄ν¬λ„νΈ
β”‚       β”‚   β”‚   β”β”€β”€ common/        # κ³µν†µ μ»΄ν¬λ„νΈ
β”‚       β”‚   β”‚   β”‚   β”β”€β”€ Header.tsx
β”‚       β”‚   β”‚   β”‚   β”β”€β”€ Sidebar.tsx
β”‚       β”‚   β”‚   β”‚   β””β”€β”€ Loading.tsx
β”‚       β”‚   β”‚   β”β”€β”€ charts/        # μ°¨νΈ μ»΄ν¬λ„νΈ
β”‚       β”‚   β”‚   β”‚   β”β”€β”€ PriceChart.tsx
β”‚       β”‚   β”‚   β”‚   β”β”€β”€ PortfolioChart.tsx
β”‚       β”‚   β”‚   β”‚   β””β”€β”€ TradingView.tsx
β”‚       β”‚   β”‚   β”β”€β”€ trading/       # κ±°λ μ»΄ν¬λ„νΈ
β”‚       β”‚   β”‚   β”‚   β”β”€β”€ OrderForm.tsx
β”‚       β”‚   β”‚   β”‚   β”β”€β”€ OrderBook.tsx
β”‚       β”‚   β”‚   β”‚   β””β”€β”€ TradeHistory.tsx
β”‚       β”‚   β”‚   β””β”€β”€ ai/            # AI μ»΄ν¬λ„νΈ
β”‚       β”‚   β”‚       β”β”€β”€ PredictionPanel.tsx
β”‚       β”‚   β”‚       β”β”€β”€ AIChat.tsx
β”‚       β”‚   β”‚       β””β”€β”€ MarketAnalysis.tsx
β”‚       β”‚   β”β”€β”€ pages/             # νμ΄μ§€ μ»΄ν¬λ„νΈ
β”‚       β”‚   β”‚   β”β”€β”€ Dashboard.tsx  # λ©”μΈ λ€μ‹λ³΄λ“
β”‚       β”‚   β”‚   β”β”€β”€ Trading.tsx    # κ±°λ νμ΄μ§€
β”‚       β”‚   β”‚   β”β”€β”€ Portfolio.tsx  # ν¬νΈν΄λ¦¬μ¤ νμ΄μ§€
β”‚       β”‚   β”‚   β”β”€β”€ AIAssistant.tsx # AI μ–΄μ‹μ¤ν„΄νΈ νμ΄μ§€
β”‚       β”‚   β”‚   β””β”€β”€ Settings.tsx   # μ„¤μ • νμ΄μ§€
β”‚       β”‚   β”β”€β”€ services/          # API μ„λΉ„μ¤
β”‚       β”‚   β”‚   β”β”€β”€ api.ts         # API ν΄λΌμ΄μ–ΈνΈ
β”‚       β”‚   β”‚   β”β”€β”€ websocket.ts   # WebSocket ν΄λΌμ΄μ–ΈνΈ
β”‚       β”‚   β”‚   β””β”€β”€ auth.ts        # μΈμ¦ μ„λΉ„μ¤
β”‚       β”‚   β”β”€β”€ hooks/             # μ»¤μ¤ν…€ ν›…
β”‚       β”‚   β”‚   β”β”€β”€ useWebSocket.ts
β”‚       β”‚   β”‚   β”β”€β”€ useAuth.ts
β”‚       β”‚   β”‚   β””β”€β”€ useMarketData.ts
β”‚       β”‚   β”β”€β”€ store/             # μƒνƒ κ΄€λ¦¬ (Redux/Zustand)
β”‚       β”‚   β”‚   β”β”€β”€ slices/
β”‚       β”‚   β”‚   β”‚   β”β”€β”€ authSlice.ts
β”‚       β”‚   β”‚   β”‚   β”β”€β”€ marketSlice.ts
β”‚       β”‚   β”‚   β”‚   β””β”€β”€ portfolioSlice.ts
β”‚       β”‚   β”‚   β””β”€β”€ store.ts
β”‚       β”‚   β”β”€β”€ types/             # TypeScript νƒ€μ… μ •μ
β”‚       β”‚   β”‚   β”β”€β”€ api.ts
β”‚       β”‚   β”‚   β”β”€β”€ market.ts
β”‚       β”‚   β”‚   β””β”€β”€ user.ts
β”‚       β”‚   β”β”€β”€ utils/             # μ ν‹Έλ¦¬ν‹° ν•¨μ
β”‚       β”‚   β”‚   β”β”€β”€ formatters.ts  # λ°μ΄ν„° ν¬λ§·ν…
β”‚       β”‚   β”‚   β”β”€β”€ constants.ts   # μƒμ μ •μ
β”‚       β”‚   β”‚   β””β”€β”€ helpers.ts
β”‚       β”‚   β”β”€β”€ styles/            # μ¤νƒ€μΌ νμΌ
β”‚       β”‚   β”‚   β”β”€β”€ globals.css
β”‚       β”‚   β”‚   β””β”€β”€ components/
β”‚       β”‚   β”β”€β”€ App.tsx
β”‚       β”‚   β””β”€β”€ index.tsx
β”‚       β”β”€β”€ package.json
β”‚       β”β”€β”€ package-lock.json
β”‚       β”β”€β”€ tsconfig.json
β”‚       β””β”€β”€ Dockerfile
β”‚
β”β”€β”€ π³ Docker μ„¤μ • (κΈ°μ΅΄ + ν™•μ¥)
β”‚   β”β”€β”€ docker-compose.yaml        # μ „μ²΄ μ„λΉ„μ¤ μ¤μΌ€μ¤νΈλ μ΄μ…
β”‚   β”β”€β”€ Dockerfile                 # Airflow μ»¤μ¤ν…€ μ΄λ―Έμ§€
β”‚   β””β”€β”€ nginx/                     # λ¦¬λ²„μ¤ ν”„λ΅μ‹ (μ„ νƒμ‚¬ν•­)
β”‚       β”β”€β”€ nginx.conf
β”‚       β””β”€β”€ Dockerfile
β”‚
β”β”€β”€ π“‹ μ„¤μ • νμΌλ“¤
β”‚   β”β”€β”€ .env                       # ν™κ²½ λ³€μ
β”‚   β”β”€β”€ .gitignore
β”‚   β”β”€β”€ requirements.txt           # Python μμ΅΄μ„±
β”‚   β”β”€β”€ README.md
β”‚   β””β”€β”€ ν”„λ΅μ νΈ_κµ¬μ΅°_μ„¤κ³„.md     # μ΄ νμΌ
β”‚
β””β”€β”€ π“ λ¬Έμ„ν™”
    β”β”€β”€ ν”„λ΅μ νΈ_μ§„ν–‰λ„_μƒμ„Έλ¶„μ„.txt
    β”β”€β”€ ν”„λ΅μ νΈ_κµ¬ν„_κ³„νμ„.txt
    β””β”€β”€ API_λ¬Έμ„.md                # API λ…μ„Έμ„ (μ‹ κ·)
```

## π”§ κΈ°μ  μ¤νƒ μƒμ„Έ

### Backend (FastAPI)
- **FastAPI**: κ³ μ„±λ¥ Python μ›Ή ν”„λ μ„μ›ν¬
- **Uvicorn**: ASGI μ„λ²„
- **SQLAlchemy**: ORM (PostgreSQL μ—°λ™)
- **Redis-py**: Redis ν΄λΌμ΄μ–ΈνΈ
- **JWT**: ν† ν° κΈ°λ° μΈμ¦
- **WebSocket**: μ‹¤μ‹κ°„ ν†µμ‹ 
- **Pydantic**: λ°μ΄ν„° κ²€μ¦

### Frontend (React)
- **React 18**: μµμ‹  React
- **TypeScript**: νƒ€μ… μ•μ „μ„±
- **Vite**: λΉ λ¥Έ λΉλ“ λ„κµ¬
- **Chart.js / Recharts**: μ°¨νΈ λΌμ΄λΈλ¬λ¦¬
- **Material-UI (MUI)**: UI μ»΄ν¬λ„νΈ λΌμ΄λΈλ¬λ¦¬
- **Redux Toolkit**: μƒνƒ κ΄€λ¦¬
- **React Query**: μ„λ²„ μƒνƒ κ΄€λ¦¬
- **WebSocket API**: μ‹¤μ‹κ°„ λ°μ΄ν„° μμ‹ 

### μΈν”„λΌ & DevOps
- **Docker & Docker Compose**: μ»¨ν…μ΄λ„ν™”
- **Nginx**: λ¦¬λ²„μ¤ ν”„λ΅μ‹ & μ •μ  νμΌ μ„λΉ™
- **Redis**: μΊμ‹± & μ„Έμ… μ¤ν† μ–΄
- **PostgreSQL**: λ©”μΈ λ°μ΄ν„°λ² μ΄μ¤
- **Kafka**: μ‹¤μ‹κ°„ λ°μ΄ν„° μ¤νΈλ¦¬λ°

## π API μ„¤κ³„

### REST API μ—”λ“ν¬μΈνΈ
```
POST   /api/auth/login          # λ΅κ·ΈμΈ
POST   /api/auth/register       # νμ›κ°€μ…
GET    /api/auth/me            # ν„μ¬ μ‚¬μ©μ μ •λ³΄

GET    /api/market/prices      # ν„μ¬ κ°€κ²© μ΅°ν
GET    /api/market/history     # κ°€κ²© νμ¤ν† λ¦¬
GET    /api/market/symbols     # μ§€μ› μ‹¬λ³Ό λ©λ΅

GET    /api/portfolio          # ν¬νΈν΄λ¦¬μ¤ μ΅°ν
POST   /api/trading/buy        # λ§¤μ μ£Όλ¬Έ
POST   /api/trading/sell       # λ§¤λ„ μ£Όλ¬Έ
GET    /api/trading/orders     # μ£Όλ¬Έ λ‚΄μ—­
GET    /api/trading/history    # κ±°λ λ‚΄μ—­

POST   /api/ai/predict         # κ°€κ²© μμΈ΅ μ”μ²­
GET    /api/ai/analysis        # μ‹μ¥ λ¶„μ„
POST   /api/ai/chat            # AI μ±„ν…
```

### WebSocket μ±„λ„
```
/ws/prices                     # μ‹¤μ‹κ°„ κ°€κ²© μ—…λ°μ΄νΈ
/ws/portfolio                  # ν¬νΈν΄λ¦¬μ¤ λ³€κ²½ μ•λ¦Ό
/ws/orders                     # μ£Όλ¬Έ μƒνƒ μ—…λ°μ΄νΈ
```

## π”„ λ°μ΄ν„° νλ¦„

### μ‹¤μ‹κ°„ κ°€κ²© λ°μ΄ν„°
```
Binance API β†’ Kafka Producer β†’ Kafka β†’ Consumer β†’ Redis β†’ FastAPI β†’ WebSocket β†’ React
```

### μ‚¬μ©μ κ±°λ
```
React β†’ FastAPI β†’ PostgreSQL (κ±°λ μ €μ¥) β†’ Redis (ν¬νΈν΄λ¦¬μ¤ μΊμ‹) β†’ WebSocket β†’ React
```

### AI μμΈ΅
```
React β†’ FastAPI β†’ XGBoost λ¨λΈ β†’ μμΈ΅ κ²°κ³Ό β†’ React
```

## π€ κ°λ° λ‹¨κ³„λ³„ κ³„ν

### Phase 1: Backend API κΈ°λ° κµ¬μ¶•
1. FastAPI ν”„λ΅μ νΈ μ΄κΈ°ν™”
2. Redis μ—°λ™ λ° μ‹¤μ‹κ°„ λ°μ΄ν„° API
3. μ‚¬μ©μ μΈμ¦ μ‹μ¤ν…
4. WebSocket μ‹¤μ‹κ°„ ν†µμ‹ 

### Phase 2: Frontend κΈ°λ³Έ κµ¬μ΅°
1. React ν”„λ΅μ νΈ μ΄κΈ°ν™”
2. κΈ°λ³Έ UI/UX κµ¬μ„±
3. μ‹¤μ‹κ°„ κ°€κ²© μ°¨νΈ κµ¬ν„
4. μ‚¬μ©μ μΈμ¦ UI

### Phase 3: κ±°λ μ‹μ¤ν…
1. λ¨μ κ±°λ λ΅μ§ κµ¬ν„
2. ν¬νΈν΄λ¦¬μ¤ κ΄€λ¦¬ μ‹μ¤ν…
3. κ±°λ νμ¤ν† λ¦¬ λ° λ¶„μ„

### Phase 4: AI κΈ°λ¥ ν†µν•©
1. XGBoost λ¨λΈ API μ—°λ™
2. AI μ–΄μ‹μ¤ν„΄νΈ μ±„ν… μΈν„°νμ΄μ¤
3. ν¬μ λ¶„μ„ λ° μ¶”μ² μ‹μ¤ν…

### Phase 5: μµμ ν™” λ° λ°°ν¬
1. μ„±λ¥ μµμ ν™”
2. λ³΄μ• κ°•ν™”
3. λ¨λ‹ν„°λ§ μ‹μ¤ν…
4. λ°°ν¬ μλ™ν™”

## π“ λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ (PostgreSQL)

### Users Table
```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    balance DECIMAL(15,2) DEFAULT 100000.00,  -- μ΄κΈ° κ°€μƒ μκΈ
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

### Portfolios Table
```sql
CREATE TABLE portfolios (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    symbol VARCHAR(20) NOT NULL,
    quantity DECIMAL(15,8) NOT NULL,
    avg_price DECIMAL(15,8) NOT NULL,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

### Transactions Table
```sql
CREATE TABLE transactions (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    symbol VARCHAR(20) NOT NULL,
    type VARCHAR(10) NOT NULL, -- 'BUY' or 'SELL'
    quantity DECIMAL(15,8) NOT NULL,
    price DECIMAL(15,8) NOT NULL,
    total_amount DECIMAL(15,2) NOT NULL,
    created_at TIMESTAMP DEFAULT NOW()
);
```

## π” λ³΄μ• κ³ λ ¤μ‚¬ν•­

1. **JWT ν† ν°**: μ‚¬μ©μ μΈμ¦
2. **CORS μ„¤μ •**: ν”„λ΅ νΈμ—”λ“ λ„λ©”μΈ ν—μ©
3. **Rate Limiting**: API νΈμ¶ μ ν•
4. **Input Validation**: Pydantic λ¨λΈ κ²€μ¦
5. **HTTPS**: SSL/TLS μ•”νΈν™” (λ°°ν¬ μ‹)
6. **Environment Variables**: λ―Όκ° μ •λ³΄ ν™κ²½λ³€μ κ΄€λ¦¬

## π― μ„±λ¥ μµμ ν™”

1. **Redis μΊμ‹±**: μμ£Ό μ΅°νλλ” λ°μ΄ν„° μΊμ‹±
2. **Connection Pooling**: λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° ν’€
3. **WebSocket**: μ‹¤μ‹κ°„ λ°μ΄ν„° ν¨μ¨μ  μ „μ†΅
4. **Code Splitting**: React μ•± λ²λ“¤ μµμ ν™”
5. **CDN**: μ •μ  νμΌ λ°°ν¬ (λ°°ν¬ μ‹)

---

μ΄ κµ¬μ΅°λ¥Ό λ°”νƒ•μΌλ΅ λ‹¨κ³„λ³„λ΅ κ°λ°μ„ μ§„ν–‰ν•λ©΄ μ²΄κ³„μ μ΄κ³  ν™•μ¥ κ°€λ¥ν• μ•”νΈν™”ν λ¨μ ν¬μ ν”λ«νΌμ„ κµ¬μ¶•ν•  μ μμµλ‹λ‹¤!
